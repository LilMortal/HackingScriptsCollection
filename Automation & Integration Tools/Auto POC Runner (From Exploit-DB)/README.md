# Auto POC Runner

A Python-based automated Proof of Concept (PoC) script execution tool designed for security researchers and developers. This tool provides a safe, systematic way to execute multiple PoC scripts against targets with proper logging, timeout handling, and safety features.

## Features

- **Automated Script Discovery**: Automatically finds and executes scripts (.py, .sh, .pl, .rb, .js) in specified directories
- **Multi-Target Support**: Run scripts against single targets or multiple targets from a file
- **Timeout Protection**: Configurable timeout to prevent hanging scripts
- **Comprehensive Logging**: Detailed logging with configurable levels and file output
- **Result Tracking**: JSON output with execution results, timing, and metadata
- **Safety Features**: Input validation, signal handling, and graceful shutdown
- **Flexible Configuration**: Command-line arguments and JSON configuration file support
- **Dry Run Mode**: Preview what would be executed without actually running scripts

## Installation

### Requirements

- Python 3.6 or higher
- Standard Python libraries (no external dependencies required)

### Setup

1. Clone or download the script:
   ```bash
   wget https://raw.githubusercontent.com/yourusername/auto-poc-runner/main/auto_poc_runner.py
   chmod +x auto_poc_runner.py
   ```

2. Or clone the entire repository:
   ```bash
   git clone https://github.com/yourusername/auto-poc-runner.git
   cd auto-poc-runner
   ```

3. Make the script executable:
   ```bash
   chmod +x auto_poc_runner.py
   ```

## Usage

### Basic Usage

Run a single script against a target:
```bash
python auto_poc_runner.py --single-script exploit.py --target example.com
```

Run all scripts in a directory against a target:
```bash
python auto_poc_runner.py --script-dir ./poc_scripts --target 192.168.1.1
```

Run scripts against multiple targets:
```bash
python auto_poc_runner.py --script-dir ./exploits --targets-file targets.txt
```

### Advanced Usage

Use a configuration file:
```bash
python auto_poc_runner.py --config config.json
```

Run with custom timeout and delay:
```bash
python auto_poc_runner.py --script-dir ./scripts --target example.com --timeout 60 --delay 5
```

Dry run to see what would be executed:
```bash
python auto_poc_runner.py --script-dir ./scripts --target example.com --dry-run
```

### Command Line Arguments

#### Required Arguments (choose one set):
- `--target TARGET`: Single target to test
- `--targets-file FILE`: File containing targets (one per line)

#### Script Selection (choose one):
- `--single-script SCRIPT`: Path to a single script to execute
- `--script-dir DIRECTORY`: Directory containing PoC scripts

#### Optional Arguments:
- `--config FILE`: JSON configuration file
- `--timeout SECONDS`: Timeout for script execution (default: 30)
- `--delay SECONDS`: Delay between tests (default: 0)
- `--output-dir DIRECTORY`: Output directory for results (default: ./results)
- `--log-level LEVEL`: Logging level (DEBUG, INFO, WARNING, ERROR)
- `--quiet`: Suppress output except errors
- `--dry-run`: Show what would be executed without running

### Configuration File Format

Create a JSON configuration file for complex setups:

```json
{
    "timeout": 30,
    "delay_between_tests": 2,
    "output_dir": "./results",
    "log_level": "INFO",
    "use_script_dir": true,
    "script_args": ["--verbose", "--no-banner"]
}
```

### Targets File Format

Create a text file with one target per line:

```
example.com
192.168.1.1
testsite.org
10.0.0.1
```

## Script Requirements

For scripts to be automatically discovered and executed, they must:

1. Have appropriate file extensions (.py, .sh, .pl, .rb, .js)
2. Be executable (for shell scripts) or interpretable
3. Accept the target as the first command-line argument
4. Return appropriate exit codes (0 for success, non-zero for failure)

### Example PoC Script Structure

Python script example:
```python
#!/usr/bin/env python3
import sys

def main():
    if len(sys.argv) < 2:
        print("Usage: script.py <target>")
        sys.exit(1)
    
    target = sys.argv[1]
    # Your PoC logic here
    print(f"Testing {target}")
    
    # Return 0 for success, 1 for failure
    return 0

if __name__ == "__main__":
    sys.exit(main())
```

Shell script example:
```bash
#!/bin/bash
if [ $# -eq 0 ]; then
    echo "Usage: $0 <target>"
    exit 1
fi

TARGET=$1
# Your PoC logic here
echo "Testing $TARGET"

# Return 0 for success, 1 for failure
exit 0
```

## Output and Results

### Console Output
The tool provides real-time logging of execution status, including:
- Script discovery results
- Individual test execution status
- Timeout and error notifications
- Final summary statistics

### JSON Results File
Results are automatically saved to timestamped JSON files containing:
- Execution metadata (timestamps, configuration)
- Individual test results (status, output, errors, timing)
- Summary statistics

Example output structure:
```json
{
    "metadata": {
        "total_tests": 5,
        "timestamp": "2025-06-18T10:30:00",
        "config": {...}
    },
    "results": [
        {
            "script": "/path/to/script.py",
            "target": "example.com",
            "status": "success",
            "output": "Test completed successfully",
            "execution_time": 2.5,
            "return_code": 0
        }
    ]
}
```

### Log Files
Detailed log files are saved in the output directory with:
- Timestamped execution logs
- Debug information (when enabled)
- Error details and stack traces

## Safety and Security Considerations

### ⚠️ Important Warnings

1. **Authorized Testing Only**: Only use this tool against systems you own or have explicit permission to test
2. **Script Review**: Always review PoC scripts before execution to understand their impact
3. **Network Isolation**: Consider running in isolated environments for potentially destructive tests
4. **Legal Compliance**: Ensure all testing complies with applicable laws and regulations

### Built-in Safety Features

- **Input Validation**: Basic validation to prevent command injection
- **Timeout Protection**: Prevents runaway scripts from consuming resources
- **Signal Handling**: Graceful shutdown on interruption
- **Process Management**: Proper cleanup of child processes
- **Logging**: Comprehensive audit trail of all activities

## Troubleshooting

### Common Issues

**Scripts not discovered:**
- Ensure scripts have correct file extensions
- Check file permissions (scripts should be executable)
- Verify the script directory path

**Scripts timing out:**
- Increase timeout value with `--timeout`
- Check if scripts are hanging on input
- Review script logic for infinite loops

**Permission errors:**
- Ensure the user has permission to execute scripts
- Check file system permissions
- Verify interpreter availability (python, bash, etc.)

**JSON parsing errors:**
- Validate configuration file syntax
- Check for trailing commas or syntax errors
- Use a JSON validator online

### Debug Mode

Enable debug logging for detailed troubleshooting:
```bash
python auto_poc_runner.py --log-level DEBUG --script-dir ./scripts --target example.com
```

## Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch
3. Add tests for new functionality
4. Ensure code follows PEP 8 style guidelines
5. Submit a pull request with clear descriptions

## License

MIT License

Copyright (c) 2025 Auto POC Runner

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## Disclaimer

This tool is intended for legitimate security research and authorized penetration testing only. Users are responsible for ensuring they have proper authorization before testing any systems. The authors are not responsible for any misuse of this tool.

## Version History

- **v1.0.0**: Initial release with core functionality
  - Script discovery and execution
  - Multi-target support
  - Timeout handling
  - JSON results output
  - Configuration file support

## Support

For issues, questions, or contributions:
- Create an issue on GitHub
- Review the troubleshooting section
- Check existing documentation

---

**Remember**: Always use responsibly and with proper authorization!
