# Secure Data Transfer Utility

A comprehensive, legitimate file transfer utility that supports multiple protocols for secure data transmission between systems. This tool is designed for legitimate system administration, backup, and file synchronization tasks.

## Description

The Secure Data Transfer Utility provides a command-line interface for:
- Uploading files via HTTP/HTTPS and FTP protocols
- Downloading files from HTTP/HTTPS endpoints
- Creating a simple file server for sharing files
- Generating file manifests with integrity checksums
- Verifying file integrity using cryptographic hashes

This tool is built with security and reliability in mind, featuring comprehensive error handling, input validation, and integrity verification capabilities.

## Features

### Core Functionality
- **Multiple Transfer Methods**: Support for HTTP, HTTPS, and FTP protocols
- **File Integrity Verification**: SHA-256 checksum generation and validation
- **Transfer Manifests**: JSON-based file catalogs with metadata and checksums
- **Simple File Server**: Built-in HTTP server for local file sharing
- **Comprehensive Logging**: Verbose mode with timestamped logging
- **Error Handling**: Robust error handling and input validation

### Security Features
- Input validation for all file operations
- Secure file path handling to prevent directory traversal
- Integrity verification using cryptographic hashes
- Support for HTTPS encrypted transfers

## Installation

### Prerequisites
- Python 3.6 or higher
- Standard Python libraries (no external dependencies required)

### Setup
1. Download the script:
```bash
wget https://raw.githubusercontent.com/example/secure-data-transfer/main/data_transfer_utility.py
# or
curl -O https://raw.githubusercontent.com/example/secure-data-transfer/main/data_transfer_utility.py
```

2. Make the script executable:
```bash
chmod +x data_transfer_utility.py
```

3. Optionally, create a symbolic link for easier access:
```bash
sudo ln -s /path/to/data_transfer_utility.py /usr/local/bin/data-transfer
```

## Usage

### Command Structure
```bash
python data_transfer_utility.py <command> [options]
```

### Available Commands

#### 1. Upload Files

**HTTP/HTTPS Upload:**
```bash
python data_transfer_utility.py upload --method http --url http://example.com/upload --file document.txt
python data_transfer_utility.py upload --method https --url https://secure.example.com/upload --file sensitive_data.zip
```

**FTP Upload:**
```bash
python data_transfer_utility.py upload --method ftp --host ftp.example.com --user myuser --password mypass --file backup.zip
python data_transfer_utility.py upload --method ftp --host ftp.example.com --user myuser --file data.txt --remote-path /uploads/
```

#### 2. Download Files

```bash
python data_transfer_utility.py download --url http://example.com/file.zip --output ./downloads/
python data_transfer_utility.py download --url https://secure.example.com/document.pdf
```

#### 3. Start File Server

```bash
python data_transfer_utility.py serve --port 8080 --directory ./shared_files
python data_transfer_utility.py serve --port 9000 --directory /var/www/files
```

#### 4. Create File Manifest

```bash
python data_transfer_utility.py manifest --files file1.txt file2.pdf file3.zip --output manifest.json
python data_transfer_utility.py manifest --files *.log --output backup_manifest.json
```

#### 5. Verify File Integrity

```bash
python data_transfer_utility.py verify --file downloaded_file.zip --hash a1b2c3d4e5f6...
python data_transfer_utility.py verify --file document.pdf --hash sha256hash --algorithm sha256
```

### Common Options

- `--verbose, -v`: Enable verbose logging with timestamps
- `--help, -h`: Display help for commands and options

## Examples

### Complete Workflow Example

1. **Create a manifest for files to transfer:**
```bash
python data_transfer_utility.py manifest --files *.txt *.pdf --output transfer_manifest.json --verbose
```

2. **Upload files via HTTPS:**
```bash
python data_transfer_utility.py upload --method https --url https://backup.example.com/upload --file important_document.pdf --verbose
```

3. **Start a local file server for sharing:**
```bash
python data_transfer_utility.py serve --port 8080 --directory ./shared_files --verbose
```

4. **Download and verify a file:**
```bash
python data_transfer_utility.py download --url https://example.com/file.zip --output ./downloads/ --verbose
python data_transfer_utility.py verify --file ./downloads/file.zip --hash expected_sha256_hash --verbose
```

### Advanced Usage

**Batch Operations with Shell Scripts:**
```bash
#!/bin/bash
# Upload multiple files
for file in *.backup; do
    python data_transfer_utility.py upload --method ftp --host backup.example.com --user backupuser --file "$file" --verbose
done
```

**Integration with Cron for Automated Backups:**
```bash
# Add to crontab for daily backups at 2 AM
0 2 * * * /usr/bin/python3 /path/to/data_transfer_utility.py upload --method ftp --host backup.server.com --user backup --file /path/to/daily_backup.tar.gz
```

## Output and Logging

### Verbose Mode
When using the `--verbose` flag, the utility provides detailed logging:
```
[2024-01-15 14:30:25] INFO: Starting HTTP upload of document.pdf to https://example.com/upload
[2024-01-15 14:30:26] INFO: Successfully uploaded document.pdf
[2024-01-15 14:30:26] INFO: File integrity verified: document.pdf
```

### Manifest File Format
Generated manifest files contain comprehensive metadata:
```json
{
  "created": "2024-01-15T14:30:25.123456",
  "files": [
    {
      "path": "document.pdf",
      "name": "document.pdf",
      "size": 1024000,
      "sha256": "a1b2c3d4e5f6...",
      "modified": "2024-01-15T10:15:30.000000"
    }
  ]
}
```

## Error Handling

The utility includes comprehensive error handling for common scenarios:
- **File Not Found**: Clear error messages when source files don't exist
- **Network Errors**: Graceful handling of connection timeouts and failures
- **Permission Errors**: Informative messages for file access issues
- **Invalid Arguments**: Input validation with helpful error messages

## Limitations

- **FTP Security**: Standard FTP transfers are not encrypted. Consider using SFTP for sensitive data (future enhancement)
- **Large Files**: Very large files may require chunked transfer implementation
- **Authentication**: Limited authentication methods supported (basic auth for HTTP, username/password for FTP)
- **Resumable Transfers**: Does not support resuming interrupted transfers

## Security Considerations

### Ethical Use
This tool is designed for legitimate purposes only:
- ✅ System administration and maintenance
- ✅ Data backup and synchronization
- ✅ File sharing within authorized networks
- ✅ Development and testing environments

### Best Practices
- Always use HTTPS for sensitive data transfers
- Verify file integrity using checksums
- Use strong authentication credentials
- Monitor transfer logs for unusual activity
- Keep the utility updated with security patches

### Prohibited Uses
- ❌ Unauthorized data exfiltration
- ❌ Bypassing network security controls
- ❌ Malicious data transmission
- ❌ Violation of organizational policies

## Troubleshooting

### Common Issues

**"Permission denied" errors:**
- Ensure you have read permissions for source files
- Check write permissions for destination directories
- Verify network connectivity and firewall settings

**"Connection refused" errors:**
- Verify the target server is accessible
- Check if the specified port is open
- Ensure proper authentication credentials

**"File not found" errors:**
- Verify file paths are correct and absolute
- Check if files exist and are accessible
- Ensure proper file permissions

### Debug Mode
Use the `--verbose` flag to get detailed information about operations:
```bash
python data_transfer_utility.py upload --method http --url http://example.com/upload --file test.txt --verbose
```

## Contributing

Contributions are welcome! Please follow these guidelines:
1. Fork the repository
2. Create a feature branch
3. Add tests for new functionality
4. Ensure all tests pass
5. Submit a pull request with a clear description

## License

MIT License

Copyright (c) 2024 Secure Data Transfer Utility

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## Support

For support, please:
1. Check the troubleshooting section above
2. Review the verbose logs for error details
3. Open an issue on the project repository
4. Provide detailed information about your environment and the issue

## Changelog

### Version 1.0.0 (2024-01-15)
- Initial release
- HTTP/HTTPS upload and download support
- FTP upload support
- File integrity verification
- Manifest generation
- Built-in file server
- Comprehensive error handling and logging
