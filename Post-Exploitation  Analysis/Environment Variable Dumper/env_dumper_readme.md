# Environment Variable Dumper

A comprehensive Python script for exporting, filtering, and managing environment variables. This tool allows you to dump environment variables to various formats, apply filters, and save them to files for backup, analysis, or system configuration purposes.

## Features

- **Multiple Output Formats**: JSON, YAML, Shell exports, and formatted tables
- **Advanced Filtering**: Include/exclude patterns with regex support
- **File Export**: Save output to files with automatic directory creation
- **Statistics**: Get detailed information about your environment variables
- **Cross-Platform**: Works on Windows, macOS, and Linux
- **Zero Dependencies**: Uses only Python standard library
- **Command Line Interface**: Full CLI with comprehensive options

## Installation

### Prerequisites
- Python 3.6 or higher

### Installation Steps

1. **Download the script**:
   ```bash
   # Option 1: Save the script as env_dumper.py
   # Copy the provided Python code into a file named env_dumper.py
   
   # Option 2: Clone if available from repository
   # git clone <repository-url>
   ```

2. **Make the script executable** (Unix/Linux/macOS):
   ```bash
   chmod +x env_dumper.py
   ```

3. **Verify installation**:
   ```bash
   python3 env_dumper.py --version
   ```

## Usage

### Basic Usage

```bash
# Display all environment variables in table format
python3 env_dumper.py

# Display in JSON format
python3 env_dumper.py --output json

# Save to file
python3 env_dumper.py --output json --file my_env.json
```

### Filtering Variables

```bash
# Include only variables matching patterns
python3 env_dumper.py --filter "PATH,HOME,USER"

# Exclude sensitive variables
python3 env_dumper.py --exclude "SECRET,TOKEN,PASSWORD"

# Use regex patterns (case-insensitive)
python3 env_dumper.py --filter ".*PATH.*,HOME"
```

### Output Formats

```bash
# JSON format (pretty-printed)
python3 env_dumper.py --output json

# YAML format
python3 env_dumper.py --output yaml

# Shell export format
python3 env_dumper.py --output shell

# Formatted table (default)
python3 env_dumper.py --output table
```

### Statistics and Counts

```bash
# Show statistics
python3 env_dumper.py --statistics

# Show only count of variables
python3 env_dumper.py --count

# Count filtered variables
python3 env_dumper.py --filter "PATH" --count
```

### Advanced Examples

```bash
# Export PATH-related variables to shell script
python3 env_dumper.py --filter ".*PATH.*" --output shell --file path_vars.sh

# Backup all non-sensitive environment variables
python3 env_dumper.py --exclude "SECRET,TOKEN,PASSWORD,KEY" --output json --file env_backup.json

# Create a readable report of development environment
python3 env_dumper.py --filter "PYTHON,NODE,JAVA,GIT" --output table --file dev_env.txt

# Quiet operation (suppress summary)
python3 env_dumper.py --output json --file env.json --quiet
```

## Command Line Options

| Option | Description |
|--------|-------------|
| `-o, --output` | Output format: json, yaml, shell, table (default: table) |
| `-f, --file` | Save output to specified file |
| `--filter, --include` | Comma-separated patterns to include (regex supported) |
| `--exclude` | Comma-separated patterns to exclude (regex supported) |
| `--statistics, --stats` | Display environment variable statistics |
| `--count` | Display only the count of matching variables |
| `--quiet, -q` | Suppress informational messages |
| `--version` | Show version information |
| `--help` | Show help message |

## Output Format Examples

### JSON Format
```json
{
  "HOME": "/Users/username",
  "PATH": "/usr/local/bin:/usr/bin:/bin",
  "USER": "username"
}
```

### YAML Format
```yaml
HOME: /Users/username
PATH: /usr/local/bin:/usr/bin:/bin
USER: username
```

### Shell Format
```bash
export HOME="/Users/username"
export PATH="/usr/local/bin:/usr/bin:/bin"
export USER="username"
```

### Table Format
```
+----------------------+--------------------------------+
| Variable Name        | Value                          |
+----------------------+--------------------------------+
| HOME                 | /Users/username                |
| PATH                 | /usr/local/bin:/usr/bin:/bin   |
| USER                 | username                       |
+----------------------+--------------------------------+
```

## Use Cases

### System Administration
- **Environment Backup**: Save current environment state before system changes
- **Configuration Audit**: Review all environment variables for security
- **System Migration**: Export environment settings for new system setup

### Development
- **Development Environment Setup**: Export dev-specific variables
- **CI/CD Configuration**: Generate environment files for deployment
- **Debugging**: Analyze environment variables affecting application behavior

### Security
- **Security Audit**: Identify potentially sensitive environment variables
- **Clean Environment**: Export only necessary variables for containerization
- **Variable Management**: Organize and document environment configuration

## Security Considerations

### Important Security Notes

⚠️ **Warning**: Environment variables may contain sensitive information such as:
- API keys and tokens
- Database passwords
- Secret keys and certificates
- Personal file paths

### Best Practices

1. **Use Exclude Patterns**: Always exclude sensitive patterns when sharing or backing up
   ```bash
   python3 env_dumper.py --exclude "SECRET,TOKEN,PASSWORD,KEY,API" --output json
   ```

2. **Review Before Sharing**: Always review output before sharing with others

3. **Secure File Storage**: Store exported files in secure locations with appropriate permissions

4. **Regular Cleanup**: Regularly clean up exported files containing sensitive data

## Troubleshooting

### Common Issues

**Issue**: "Permission denied" when saving files
- **Solution**: Ensure you have write permissions to the target directory
- **Alternative**: Use `--file ~/env_backup.json` to save in home directory

**Issue**: Regex patterns not working as expected
- **Solution**: Use simple string patterns first, then add regex complexity
- **Example**: Use `PATH` instead of `.*PATH.*` for basic matching

**Issue**: Large output is hard to read
- **Solution**: Use `--file` option to save to file, or pipe through pager
- **Example**: `python3 env_dumper.py | less`

### Getting Help

If you encounter issues:
1. Run with `python3 env_dumper.py --help` for usage information
2. Check file permissions and disk space for file operations
3. Verify Python version compatibility (3.6+)

## Examples for Different Operating Systems

### Windows
```cmd
# PowerShell
python env_dumper.py --output json --file env_backup.json

# Command Prompt
python env_dumper.py --filter "USERPROFILE,TEMP,PATH" --output table
```

### macOS/Linux
```bash
# Export shell variables
./env_dumper.py --output shell --file current_env.sh

# Filter development variables
./env_dumper.py --filter "PYTHON.*,NODE.*,JAVA.*" --output yaml
```

## Contributing

Contributions are welcome! Please feel free to submit issues, suggestions, or pull requests.

### Development Setup
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## License

This project is licensed under the MIT License - see below for details:

```
MIT License

Copyright (c) 2025 Environment Variable Dumper

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

## Version History

- **v1.0.0**: Initial release with full functionality
  - Multiple output formats (JSON, YAML, Shell, Table)
  - Advanced filtering with regex support
  - File export capabilities
  - Statistics and counting features
  - Comprehensive error handling
  - Cross-platform compatibility

---

**Author**: Assistant  
**Version**: 1.0.0  
**Last Updated**: June 2025
