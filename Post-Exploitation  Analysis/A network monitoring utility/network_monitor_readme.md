# Network Monitoring Utility

A comprehensive Python-based network monitoring tool that tracks connectivity, response times, and network statistics for specified hosts and ports.

## Description

This network monitoring utility provides real-time monitoring of network connectivity and performance metrics. It can monitor multiple hosts simultaneously, check specific ports, track response times, calculate statistics, and save results for later analysis.

## Features

- **Multi-target monitoring**: Monitor multiple hosts/IP addresses simultaneously
- **Port connectivity testing**: Check specific TCP ports for each target
- **Real-time statistics**: Live display of connectivity statistics and response times
- **Flexible monitoring intervals**: Customizable check intervals
- **Comprehensive logging**: Detailed logging with configurable verbosity levels
- **JSON export**: Save monitoring results and statistics to JSON files
- **Error tracking**: Track and report connection errors and failures
- **Statistical analysis**: Calculate min, max, average, and median response times
- **Command-line interface**: Full-featured CLI with extensive options

## Installation

### Prerequisites

- Python 3.6 or higher
- No external dependencies required (uses only Python standard library)

### Setup

1. Download the script:
   ```bash
   wget https://raw.githubusercontent.com/your-repo/network_monitor.py
   # or
   curl -O https://raw.githubusercontent.com/your-repo/network_monitor.py
   ```

2. Make it executable (Linux/macOS):
   ```bash
   chmod +x network_monitor.py
   ```

3. Verify installation:
   ```bash
   python3 network_monitor.py --help
   ```

## Usage

### Basic Usage

Monitor a single host with default settings:
```bash
python3 network_monitor.py google.com
```

### Advanced Usage Examples

Monitor multiple targets:
```bash
python3 network_monitor.py google.com cloudflare.com github.com
```

Monitor with custom ports and interval:
```bash
python3 network_monitor.py -t 192.168.1.1 -p 22 80 443 -i 2.5
```

Run a limited number of checks:
```bash
python3 network_monitor.py google.com -c 10
```

Monitor with custom timeout and save results:
```bash
python3 network_monitor.py -t example.com --timeout 10 -o results.json
```

Verbose monitoring with multiple options:
```bash
python3 network_monitor.py -t 8.8.8.8 1.1.1.1 -p 53 -i 0.5 -c 100 -v -o dns_monitor.json
```

### Command-Line Arguments

| Argument | Short | Description | Default |
|----------|-------|-------------|---------|
| `targets` | | Hostnames or IP addresses to monitor | Required |
| `--targets` | `-t` | Additional targets (can be used with positional args) | |
| `--ports` | `-p` | Ports to check for each target | `80 443` |
| `--interval` | `-i` | Time between checks in seconds | `1.0` |
| `--count` | `-c` | Number of checks to perform | Infinite |
| `--timeout` | | Connection timeout in seconds | `5.0` |
| `--output` | `-o` | Save results to JSON file | |
| `--verbose` | `-v` | Enable verbose logging | |
| `--help` | `-h` | Show help message | |

### Output Format

#### Live Statistics Display
The tool displays real-time statistics every 10 checks:
```
============================================================
Network Monitor - Live Statistics
Started: 2025-06-22 10:30:00
============================================================

Target: google.com
  Total Checks: 20
  Success Rate: 100.00%
  Ping: 15.23ms avg, 12.45ms min, 18.92ms max
  Port 80: 100.00% success, 14.87ms avg
  Port 443: 100.00% success, 16.32ms avg
```

#### JSON Output Format
When using the `-o` option, results are saved in structured JSON format:
```json
{
  "monitoring_session": {
    "start_time": "2025-06-22T10:30:00.123456",
    "end_time": "2025-06-22T10:35:00.654321",
    "targets": ["google.com"],
    "ports": [80, 443],
    "interval": 1.0,
    "timeout": 5.0
  },
  "statistics": {
    "google.com": {
      "total_checks": 300,
      "successful_checks": 298,
      "success_rate": 0.9933,
      "ping_statistics": {
        "min_ms": 12.45,
        "max_ms": 28.76,
        "avg_ms": 15.23,
        "median_ms": 14.89
      },
      "port_statistics": {
        "80": {
          "success_rate": 0.9967,
          "avg_response_time_ms": 14.87
        },
        "443": {
          "success_rate": 0.9933,
          "avg_response_time_ms": 16.32
        }
      },
      "error_count": 2
    }
  },
  "raw_data": {
    // Detailed timestamped data for each check
  }
}
```

## Use Cases

### Network Troubleshooting
Monitor problematic connections to identify patterns:
```bash
python3 network_monitor.py problematic-server.com -i 0.1 -c 1000 -o troubleshoot.json
```

### Service Availability Monitoring
Monitor critical services:
```bash
python3 network_monitor.py -t web-server.com api-server.com -p 80 443 8080 -i 30
```

### Network Performance Baseline
Establish performance baselines:
```bash
python3 network_monitor.py -t 8.8.8.8 1.1.1.1 -p 53 -c 100 -o baseline.json
```

### Internet Connectivity Testing
Test general internet connectivity:
```bash
python3 network_monitor.py google.com cloudflare.com github.com -v
```

## Limitations and Considerations

- **TCP-based testing**: Uses TCP connections instead of ICMP ping (works better through firewalls)
- **Root privileges**: Does not require root/administrator privileges
- **Firewall considerations**: Results may be affected by firewalls blocking specific ports
- **DNS dependency**: Hostname resolution failures will be reported as errors
- **Resource usage**: High-frequency monitoring may consume network resources
- **Accuracy**: Response times include network latency and connection establishment overhead

## Ethical Use and Warnings

- **Responsible monitoring**: Only monitor networks and hosts you own or have permission to test
- **Rate limiting**: Avoid excessive monitoring frequency that could be considered network abuse
- **Terms of service**: Respect the terms of service of external services you monitor
- **Privacy**: Be mindful of privacy implications when monitoring network traffic
- **Legal compliance**: Ensure your monitoring activities comply with local laws and regulations

## Troubleshooting

### Common Issues

1. **Permission denied errors**: Usually indicates firewall or network restrictions
2. **DNS resolution failures**: Check DNS settings and hostname spelling
3. **High timeout rates**: Increase timeout value or check network connectivity
4. **Port connection failures**: Verify target services are running and ports are open

### Debug Mode
Enable verbose logging for detailed troubleshooting:
```bash
python3 network_monitor.py target.com -v
```

## Contributing

Contributions are welcome! Please feel free to submit pull requests or open issues for bugs and feature requests.

### Development Setup
```bash
git clone https://github.com/your-repo/network-monitor.git
cd network-monitor
python3 -m pytest tests/  # Run tests (if available)
```

## License

MIT License

Copyright (c) 2025 Network Monitor Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## Changelog

### Version 1.0.0 (2025-06-22)
- Initial release
- Multi-target monitoring support
- TCP port connectivity testing
- Real-time statistics display
- JSON export functionality
- Comprehensive command-line interface
- Error tracking and reporting
- Statistical analysis features

## Support

For support, please open an issue on the GitHub repository or contact the maintainers.

---

**Note**: This tool is designed for legitimate network monitoring and troubleshooting purposes. Always ensure you have proper authorization before monitoring network resources that you do not own.
