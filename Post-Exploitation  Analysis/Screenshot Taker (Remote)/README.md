# Screenshot Taker (Remote)

A Python tool for taking screenshots on remote systems via SSH. This script connects to remote Linux/Unix systems, automatically detects available screenshot tools, captures screenshots, and downloads them to your local machine.

## Features

- **Multiple Authentication Methods**: Supports both password and SSH key authentication
- **Auto-Detection**: Automatically detects the best available screenshot tool on the remote system
- **Multiple Screenshot Tools Support**: Works with `scrot`, `gnome-screenshot`, `import` (ImageMagick), `xwd`, and `screencapture` (macOS)
- **Batch Screenshots**: Can take multiple screenshots with configurable intervals
- **Flexible Output**: Customizable output directory and filename patterns
- **Error Handling**: Comprehensive error handling and logging
- **Cross-Platform**: Works on Windows, macOS, and Linux local systems

## Supported Remote Screenshot Tools

The script automatically detects and uses the following screenshot tools in order of preference:

1. **scrot** - Lightweight screenshot utility
2. **gnome-screenshot** - GNOME desktop screenshot tool
3. **import** - ImageMagick screenshot command
4. **xwd** - X Window Dump utility
5. **screencapture** - macOS built-in screenshot tool

## Installation

### Prerequisites

- Python 3.6 or higher
- SSH access to the target remote system
- A screenshot tool installed on the remote system (see supported tools above)

### Install Dependencies

```bash
pip install paramiko scp
```

Or install from requirements.txt:

```bash
pip install -r requirements.txt
```

**requirements.txt:**
```
paramiko>=2.7.0
scp>=0.13.0
```

### Download the Script

```bash
# Clone or download the script
wget https://your-repo-url/screenshot_taker_remote.py
chmod +x screenshot_taker_remote.py
```

## Usage

### Basic Usage

```bash
# Using password authentication
python screenshot_taker_remote.py -H 192.168.1.100 -u username -p password

# Using SSH key authentication
python screenshot_taker_remote.py -H server.example.com -u username -k ~/.ssh/id_rsa
```

### Advanced Usage

```bash
# Custom SSH port
python screenshot_taker_remote.py -H 192.168.1.100 -u username -p password --port 2222

# Save to specific directory
python screenshot_taker_remote.py -H 192.168.1.100 -u username -p password -o ./screenshots/

# Take multiple screenshots with interval
python screenshot_taker_remote.py -H 192.168.1.100 -u username -p password --count 5 --interval 30

# Verbose logging
python screenshot_taker_remote.py -H 192.168.1.100 -u username -p password -v
```

### Command Line Arguments

| Argument | Short | Description | Required |
|----------|-------|-------------|----------|
| `--hostname` | `-H` | Remote host IP address or hostname | Yes |
| `--username` | `-u` | SSH username | Yes |
| `--password` | `-p` | SSH password | No* |
| `--key-file` | `-k` | Path to SSH private key file | No* |
| `--port` | | SSH port (default: 22) | No |
| `--output` | `-o` | Output directory for screenshots | No |
| `--timeout` | | Connection timeout in seconds (default: 30) | No |
| `--count` | | Number of screenshots to take (default: 1) | No |
| `--interval` | | Interval between screenshots in seconds | No |
| `--verbose` | `-v` | Enable verbose logging | No |

*Either `--password` or `--key-file` must be provided.

## Examples

### Single Screenshot

```bash
python screenshot_taker_remote.py -H 192.168.1.100 -u admin -p mypassword
```

### Multiple Screenshots with Monitoring

```bash
# Take 10 screenshots every 60 seconds
python screenshot_taker_remote.py -H monitoring-server -u admin -k ~/.ssh/id_rsa --count 10 --interval 60 -o ./monitoring/
```

### High-Port SSH Server

```bash
python screenshot_taker_remote.py -H secure-server.com -u user -k ~/.ssh/id_rsa --port 2222
```

## Output Files

Screenshots are saved with the following naming convention:
```
{hostname}_screenshot_{timestamp}.png
```

Example: `192.168.1.100_screenshot_20231215_143022.png`

## Remote System Requirements

### Linux/Unix Systems

The remote system should have at least one of the following screenshot tools installed:

**Ubuntu/Debian:**
```bash
sudo apt-get install scrot
# or
sudo apt-get install gnome-screenshot
# or
sudo apt-get install imagemagick
```

**CentOS/RHEL/Fedora:**
```bash
sudo yum install scrot
# or
sudo dnf install gnome-screenshot
# or
sudo yum install ImageMagick
```

### macOS Systems

macOS systems have `screencapture` built-in, so no additional installation is required.

### X11 Display

For Linux systems, ensure that:
- X11 server is running
- The user has access to the display (usually :0)
- If using SSH, X11 forwarding might be needed in some cases

## Security Considerations

### SSH Security

- **Use SSH keys instead of passwords** when possible for better security
- Ensure your SSH keys are properly secured with appropriate file permissions (600)
- Consider using SSH agent for key management
- Use strong passwords if password authentication is necessary

### Network Security

- This tool requires SSH access to remote systems
- Ensure you have proper authorization to take screenshots on target systems
- Be aware of privacy and compliance requirements in your environment
- Consider using VPN or secure networks for remote connections

### Ethical Use

- **Only use this tool on systems you own or have explicit permission to access**
- Respect privacy and confidentiality of information displayed on remote screens
- Comply with your organization's security policies and legal requirements
- Be mindful of sensitive information that might be captured in screenshots

## Troubleshooting

### Common Issues

1. **Authentication Failed**
   - Verify username and password/key file
   - Check SSH service is running on remote host
   - Ensure SSH key has correct permissions (600)

2. **No Screenshot Tool Found**
   - Install a supported screenshot tool on the remote system
   - Verify the tool is in the system PATH

3. **Permission Denied**
   - Ensure user has permission to access the display
   - Check X11 server permissions
   - Verify user can write to /tmp directory

4. **Connection Timeout**
   - Check network connectivity
   - Verify SSH service is running
   - Increase timeout value with `--timeout`

### Debugging

Use the `-v` flag for verbose logging:

```bash
python screenshot_taker_remote.py -H 192.168.1.100 -u admin -p password -v
```

### Manual Testing

Test SSH connectivity separately:
```bash
ssh username@hostname
```

Test screenshot tools on remote system:
```bash
ssh username@hostname "scrot /tmp/test.png && ls -la /tmp/test.png"
```

## Limitations

- Requires SSH access to remote system
- Remote system must have a screenshot tool installed
- Depends on X11 for Linux systems (won't work on headless servers without display)
- May not work with some desktop environments or display managers
- Screenshot quality depends on the remote tool used
- Large screenshots may take time to transfer over slow connections

## Contributing

Contributions are welcome! Please feel free to submit pull requests or open issues for:

- Additional screenshot tool support
- Platform-specific improvements
- Bug fixes
- Documentation improvements
- Feature requests

## License

This project is licensed under the MIT License - see the LICENSE file for details.

```
MIT License

Copyright (c) 2024 Screenshot Taker Remote

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

## Changelog

### Version 1.0.0
- Initial release
- Support for multiple screenshot tools
- SSH key and password authentication
- Batch screenshot capability
- Comprehensive error handling and logging
- Cross-platform compatibility

## Support

For support, please open an issue in the project repository or contact the maintainers.

---

**Note**: This tool is designed for legitimate system administration and monitoring purposes. Always ensure you have proper authorization before taking screenshots of remote systems.
