# System Monitor and Log Analysis Tool

A comprehensive Python tool for monitoring system resources in real-time and analyzing log files. This utility provides detailed system statistics, resource usage monitoring, and powerful log analysis capabilities with pattern matching and filtering.

## Features

### System Monitoring
- Real-time CPU, memory, disk, and network usage monitoring
- Process count and system uptime tracking
- Load average monitoring (on Unix-like systems)
- Continuous monitoring with configurable intervals
- Optional data export to JSON format
- Graceful shutdown handling

### Log Analysis
- Pattern-based log file analysis
- Log level detection (ERROR, WARNING, INFO, DEBUG)
- Custom regex pattern matching
- Text-based filtering
- Tail functionality for analyzing recent log entries
- Comprehensive statistics and summaries
- Large file handling with memory-efficient processing

## Installation

### Prerequisites
- Python 3.6 or higher
- pip package manager

### Dependencies
This tool requires the `psutil` library for system monitoring:

```bash
pip install psutil
```

### Install from Source
1. Clone or download the script
2. Install dependencies:
   ```bash
   pip install psutil
   ```
3. Make the script executable (optional):
   ```bash
   chmod +x system_monitor.py
   ```

## Usage

### System Monitoring

Monitor system resources in real-time with 5-second intervals:
```bash
python system_monitor.py --monitor
```

Monitor with custom interval (10 seconds):
```bash
python system_monitor.py --monitor --interval 10
```

Monitor and save data to a file:
```bash
python system_monitor.py --monitor --output system_stats.log
```

### Log Analysis

Analyze a log file:
```bash
python system_monitor.py --analyze /var/log/syslog
```

Filter log entries containing "ERROR":
```bash
python system_monitor.py --analyze /var/log/syslog --filter ERROR
```

Search for custom patterns using regex:
```bash
python system_monitor.py --analyze app.log --pattern "failed|error|exception"
```

Analyze only the last 1000 lines:
```bash
python system_monitor.py --analyze app.log --tail 1000
```

Show statistics only (no line output):
```bash
python system_monitor.py --analyze app.log --no-lines
```

Limit displayed lines to 50:
```bash
python system_monitor.py --analyze app.log --max-lines 50
```

## Command-Line Arguments

### General Options
- `--monitor`: Enable real-time system monitoring mode
- `--analyze FILE`: Analyze the specified log file

### Monitoring Options
- `--interval SECONDS`: Set monitoring interval (default: 5 seconds)
- `--output FILE`: Save monitoring data to JSON file

### Log Analysis Options
- `--filter TEXT`: Filter lines containing specified text
- `--pattern REGEX`: Use custom regex pattern for matching
- `--tail LINES`: Analyze only the last N lines
- `--no-lines`: Display statistics only, skip line output
- `--max-lines N`: Maximum number of lines to display (default: 100)

## Output Formats

### System Monitoring Output
The tool displays:
- CPU usage percentage and core count
- Memory usage (total, used, available)
- Swap usage (if available)
- Disk usage for root partition
- Network I/O statistics
- Process count and system uptime
- Load average (on supported systems)

### Log Analysis Output
The analysis provides:
- File information (path, size, total lines)
- Match statistics
- Log level distribution
- Matched lines with line numbers
- Timestamp extraction count

### JSON Export Format
When using `--output`, monitoring data is saved in JSON format:
```json
{
  "timestamp": "2024-01-15T10:30:45.123456",
  "cpu": {"percent": 25.5, "count": 8},
  "memory": {"total": 16777216000, "used": 8388608000, "percent": 50.0},
  "disk": {"total": 500000000000, "used": 250000000000, "percent": 50.0},
  "network": {"bytes_sent": 1024000, "bytes_recv": 2048000},
  "system": {"processes": 150, "uptime_seconds": 86400}
}
```

## Use Cases

### System Administration
- Monitor server performance and resource usage
- Track system health over time
- Identify resource bottlenecks
- Generate historical usage reports

### Log Analysis
- Debug application issues
- Monitor error rates and patterns
- Analyze security logs
- Track system events and anomalies
- Filter large log files for specific events

### Development and Testing
- Monitor application resource usage
- Analyze application logs during testing
- Performance monitoring during development
- Automated system health checks

## Limitations and Notes

### System Monitoring
- Some metrics may not be available on all operating systems
- Load average is only available on Unix-like systems
- Network statistics are system-wide, not per-interface
- Root privileges may be required for some system information

### Log Analysis
- Large log files are processed in memory; very large files may cause memory issues
- Timestamp extraction uses basic pattern matching and may not work with all log formats
- Custom regex patterns should be tested for performance with large files
- File encoding is assumed to be UTF-8 with error handling for invalid characters

### Performance Considerations
- System monitoring has minimal performance impact
- Log analysis performance depends on file size and pattern complexity
- Use `--tail` option for large files to improve performance
- JSON output files can grow large during extended monitoring

## Error Handling

The tool includes comprehensive error handling for:
- Invalid file paths
- Permission errors
- Invalid regex patterns
- System resource access issues
- Interrupted operations (Ctrl+C)

## Security and Ethics

This tool is designed for legitimate system administration and monitoring purposes:
- Only monitors the local system where it's executed
- Requires appropriate file permissions to access logs
- Does not transmit data over networks
- Suitable for production environments
- Follows responsible disclosure practices

**Ethical Use Guidelines:**
- Only use on systems you own or have explicit permission to monitor
- Respect privacy and confidentiality of log data
- Follow your organization's security policies
- Use for legitimate troubleshooting and monitoring purposes only

## License

MIT License

Copyright (c) 2024 System Monitor Tool

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## Contributing

Contributions are welcome! Please feel free to submit pull requests or open issues for:
- Bug fixes
- Feature enhancements
- Documentation improvements
- Performance optimizations
- Additional log format support

## Support

For support, issues, or feature requests, please:
1. Check the existing documentation
2. Search for similar issues
3. Create a detailed issue report with:
   - Operating system and Python version
   - Complete error messages
   - Steps to reproduce the issue
   - Expected vs actual behavior

---

**Version:** 1.0.0  
**Last Updated:** January 2024  
**Python Compatibility:** 3.6+